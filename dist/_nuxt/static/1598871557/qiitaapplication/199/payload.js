__NUXT_JSONP__("qiitaapplication/199", (function(a,b,c,d){return {data:[{post:{id:199,date:"2020-08-09T15:38:12",date_gmt:"2020-08-09T06:38:12",guid:{rendered:"http:\u002F\u002Fwordpressmyblog-env.eba-pyivcx8v.ap-northeast-1.elasticbeanstalk.com\u002F?p=199"},modified:"2020-08-19T10:40:21",modified_gmt:"2020-08-19T01:40:21",slug:"qiitaapi%e3%81%a8%e3%81%ae%e9%80%a3%e6%90%ba",status:"publish",type:"post",link:"https:\u002F\u002Fwww.komugirice.com\u002Fqiitaapplication\u002F199\u002F",title:{rendered:"QiitaAPIとの連携"},content:{rendered:"\u003Ch4\u003EQiitaAPIについて\u003C\u002Fh4\u003E\n\u003Ca rel=\"noopener noreferrer\" href=\"https:\u002F\u002Fqiita.com\u002Fapi\u002Fv2\u002Fdocs\" title=\"Qiita API v2 documentation - Qiita:Developer\" class=\"blogcard-wrap external-blogcard-wrap a-wrap cf\" target=\"_blank\"\u003E\u003Cdiv class=\"blogcard external-blogcard eb-left cf\"\u003E\u003Cdiv class=\"blogcard-label external-blogcard-label\"\u003E\u003Cspan class=\"fa\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cfigure class=\"blogcard-thumbnail external-blogcard-thumbnail\"\u003E\u003Cimg src=\"https:\u002F\u002Fwww.komugirice.com\u002Fwp-content\u002Fuploads\u002Fcocoon-resources\u002Fblog-card-cache\u002Febc22d959970cde46bec72d56f86fcc9.png\" alt=\"\" class=\"blogcard-thumb-image external-blogcard-thumb-image\" width=\"320\" height=\"180\" \u002F\u003E\u003C\u002Ffigure\u003E\u003Cdiv class=\"blogcard-content external-blogcard-content\"\u003E\u003Cdiv class=\"blogcard-title external-blogcard-title\"\u003EQiita API v2 documentation - Qiita:Developer\u003C\u002Fdiv\u003E\u003Cdiv class=\"blogcard-snippet external-blogcard-snippet\"\u003EOfficial API documantation of Qiita API v2.\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cdiv class=\"blogcard-footer external-blogcard-footer cf\"\u003E\u003Cdiv class=\"blogcard-site external-blogcard-site\"\u003E\u003Cdiv class=\"blogcard-favicon external-blogcard-favicon\"\u003E\u003Cimg src=\"\u002F\u002Fwww.google.com\u002Fs2\u002Ffavicons?domain=qiita.com\" class=\"blogcard-favicon-image\" alt=\"\" width=\"16\" height=\"16\" \u002F\u003E\u003C\u002Fdiv\u003E\u003Cdiv class=\"blogcard-domain external-blogcard-domain\"\u003Eqiita.com\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003C\u002Fa\u003E\n\u003Cdiv class=\"mb60\"\u003E&nbsp;\u003C\u002Fdiv\u003E\n\u003Cp class=\"filename\"\u003EQiitaResponse.kt\u003C\u002Fp\u003E\n\u003Cp\u003EQiitaResponse.ktにAPIのレスポンスデータを定義した\u003C\u002Fp\u003E\n\u003Cdiv class=\"mb20 clearfix\"\u003E\u003C\u002Fdiv\u003E\n\u003Cp class=\"filename\"\u003EQiitaApi.kt\u003C\u002Fp\u003E\n\u003Cp\u003Eretrofitを使用してQiitaApiを実装した\u003C\u002Fp\u003E\n\u003Cp class=\"filename\"\u003Eベース\u003C\u002Fp\u003E\n\n\n\u003Cpre class=\"EnlighterJSRAW\" data-enlighter-language=\"kotlin\" data-enlighter-theme=\"\" data-enlighter-highlight=\"\" data-enlighter-linenumbers=\"\" data-enlighter-lineoffset=\"20\" data-enlighter-title=\"\" data-enlighter-group=\"\"\u003E    fun retrofitApi(client: OkHttpClient): Retrofit =\n        Retrofit.Builder()\n            .client(client)\n            .baseUrl(\"https:\u002F\u002Fqiita.com\u002Fapi\u002Fv2\u002F\")\n            .addConverterFactory(create())\n            .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n            .build()\n\n    fun retrofitApi(): Retrofit =\n        Retrofit.Builder()\n            .baseUrl(\"https:\u002F\u002Fqiita.com\u002Fapi\u002Fv2\u002F\")\n            .addConverterFactory(create())\n            .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n            .build()\n\u003C\u002Fpre\u003E\n\n\n\u003Cp\u003E\u003Ca rel=\"noopener noreferrer\" href=\"https:\u002F\u002Fqiita.com\u002Fapi\u002Fv2\u002Fdocs#get-apiv2items\" target=\"_blank\"\u003E\u003Cbr\u003Ehttps:\u002F\u002Fqiita.com\u002Fapi\u002Fv2\u002Fdocs#get-apiv2items\u003Cbr\u003E\u003C\u002Fa\u003Eのinterface\u003C\u002Fp\u003E\n\n\n\u003Cpre class=\"EnlighterJSRAW\" data-enlighter-language=\"generic\" data-enlighter-theme=\"\" data-enlighter-highlight=\"\" data-enlighter-linenumbers=\"\" data-enlighter-lineoffset=\"35\" data-enlighter-title=\"\" data-enlighter-group=\"\"\u003E    interface ItemsIF {\n        \u002F\u002F @GET(\"items?page={page}&amp;per_page=20\")\n        @GET(\"items\")\n        fun getItem(@Query(\"page\") page: Int, @Query(\"per_page\") perPage: Int = 20) : Observable&lt;List&lt;QiitaResponse\u003E\u003E\n\n        \u002F\u002F@GET(\"items?page={page}&amp;per_page=20&amp;query=body:{encodeQuery}\")\n        @GET(\"items\")\n        fun searchBody(@Query(\"page\") page: Int, @Query(\"query\") encodeQuery: String\n                       , @Query(\"per_page\") perPage: Int = 20) : Observable&lt;List&lt;QiitaResponse\u003E\u003E\n\n    }\u003C\u002Fpre\u003E\n\n\n\u003Cp\u003E\u003Ca rel=\"noopener noreferrer\" href=\"https:\u002F\u002Fqiita.com\u002Fapi\u002Fv2\u002Fdocs#get-apiv2tagstag_iditems\" target=\"_blank\"\u003E\u003Cbr\u003Ehttps:\u002F\u002Fqiita.com\u002Fapi\u002Fv2\u002Fdocs#get-apiv2tagstag_iditems\u003Cbr\u003E\u003C\u002Fa\u003Eのinterface\u003C\u002Fp\u003E\n\n\n\u003Cpre class=\"EnlighterJSRAW\" data-enlighter-language=\"kotlin\" data-enlighter-theme=\"\" data-enlighter-highlight=\"\" data-enlighter-linenumbers=\"\" data-enlighter-lineoffset=\"47\" data-enlighter-title=\"\" data-enlighter-group=\"\"\u003E    interface TagsIF {\n        @GET(\"tags\u002F{encodeQuery}\u002Fitems\")\n        fun searchTag(@Path(\"encodeQuery\", encoded=true) encodeQuery: String, @Query(\"page\") page: Int\n                      , @Query(\"per_page\") perPage: Int = 20): Observable&lt;List&lt;QiitaResponse\u003E\u003E\n    }\u003C\u002Fpre\u003E\n\n\n\u003Cp\u003Eencodeしなければ日本語が文字化けするのでご注意を\u003C\u002Fp\u003E\n\u003Cdiv class=\"mb60\"\u003E&nbsp;\u003C\u002Fdiv\u003E\n\u003Cp class=\"filename\"\u003EArticleViewModel.kt\u003C\u002Fp\u003E\n\n\n\u003Cp\u003ERxJava2を使用してAPIを実行する\u003C\u002Fp\u003E\n\n\n\n\u003Cpre class=\"EnlighterJSRAW\" data-enlighter-language=\"kotlin\" data-enlighter-theme=\"\" data-enlighter-highlight=\"\" data-enlighter-linenumbers=\"\" data-enlighter-lineoffset=\"39\" data-enlighter-title=\"\" data-enlighter-group=\"\"\u003E   fun updateData(page: Int, isFavorite: Boolean, isAdd: Boolean = false) {\n        QiitaApi.itemsIF.getItem(page)\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribeOn(Schedulers.io())\n            .subscribe({\n                var articleRowList : MutableList&lt;ArticleRow\u003E  = mutableListOf()\n                it.forEach({\n                        resp -\u003E\n                    val row =\n                        ArticleRow()\n                    row.convertFromQiitaResponse(resp)\n                    articleRowList.add(row)\n                })\n                \u002F\u002F 取得データ反映\n                setItems(articleRowList, isFavorite, isAdd)\n\n            }, {\n                currentPage = page\n                isAddPrev = isAdd\n\n                \u002F\u002Fitems.postValue(listOf())\n                isException.postValue(it)\n\n            })\n\n    }\u003C\u002Fpre\u003E\n\n\n\n\u003Cpre class=\"EnlighterJSRAW\" data-enlighter-language=\"kotlin\" data-enlighter-theme=\"\" data-enlighter-highlight=\"\" data-enlighter-linenumbers=\"\" data-enlighter-lineoffset=\"66\" data-enlighter-title=\"\" data-enlighter-group=\"\"\u003E    \u002F**\n     * setItems\n     *\n     * @param articleRowList\n     * @param isFavorite\n     * @param isAdd\n     *\n     *\u002F\n    fun setItems(articleRowList : MutableList&lt;ArticleRow\u003E, isFavorite: Boolean, isAdd: Boolean = false) {\n\n        \u002F\u002F 引数：articleRowList → ArticleAdapter.QiitaDataにコンバート\n        val qiitaList : MutableList&lt;ArticleAdapter.QiitaData\u003E = mutableListOf()\n        articleRowList.forEach({ row -\u003E qiitaList.add(ArticleAdapter.QiitaData(row, isFavorite))})\n\n        \u002F\u002F 引数：isAddによってデータ追加orクリア\n        val tempList = mutableListOf&lt;ArticleAdapter.QiitaData\u003E()\n        if (isAdd)\n            tempList.addAll(items.value ?: listOf())\n        tempList.addAll(qiitaList)\n        items.postValue(tempList)\n    }\u003C\u002Fpre\u003E\n",protected:b},excerpt:{rendered:"\u003Cp\u003EQiitaAPIについて Qiita API v2 documentation &#8211; Qiita:DeveloperOfficial API documantation of Qiita API v2.qiita.com  [&hellip;]\u003C\u002Fp\u003E\n",protected:b},author:c,featured_media:0,comment_status:d,ping_status:d,sticky:b,template:"",format:"standard",meta:[],categories:[7],tags:[14,13],_links:{self:[{href:"https:\u002F\u002Fwww.komugirice.com\u002Fwp-json\u002Fwp\u002Fv2\u002Fposts\u002F199"}],collection:[{href:"https:\u002F\u002Fwww.komugirice.com\u002Fwp-json\u002Fwp\u002Fv2\u002Fposts"}],about:[{href:"https:\u002F\u002Fwww.komugirice.com\u002Fwp-json\u002Fwp\u002Fv2\u002Ftypes\u002Fpost"}],author:[{embeddable:a,href:"https:\u002F\u002Fwww.komugirice.com\u002Fwp-json\u002Fwp\u002Fv2\u002Fusers\u002F1"}],replies:[{embeddable:a,href:"https:\u002F\u002Fwww.komugirice.com\u002Fwp-json\u002Fwp\u002Fv2\u002Fcomments?post=199"}],"version-history":[{count:c,href:"https:\u002F\u002Fwww.komugirice.com\u002Fwp-json\u002Fwp\u002Fv2\u002Fposts\u002F199\u002Frevisions"}],"predecessor-version":[{id:606,href:"https:\u002F\u002Fwww.komugirice.com\u002Fwp-json\u002Fwp\u002Fv2\u002Fposts\u002F199\u002Frevisions\u002F606"}],"wp:attachment":[{href:"https:\u002F\u002Fwww.komugirice.com\u002Fwp-json\u002Fwp\u002Fv2\u002Fmedia?parent=199"}],"wp:term":[{taxonomy:"category",embeddable:a,href:"https:\u002F\u002Fwww.komugirice.com\u002Fwp-json\u002Fwp\u002Fv2\u002Fcategories?post=199"},{taxonomy:"post_tag",embeddable:a,href:"https:\u002F\u002Fwww.komugirice.com\u002Fwp-json\u002Fwp\u002Fv2\u002Ftags?post=199"}],curies:[{name:"wp",href:"https:\u002F\u002Fapi.w.org\u002F{rel}",templated:a}]}}}],fetch:[],mutations:void 0}}(true,false,1,"closed")));